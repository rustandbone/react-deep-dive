# 3ì¥ ë¦¬ì•¡íŠ¸ í›… ê¹Šê²Œ ì‚´í´ë³´ê¸°

- [3ì¥ ë¦¬ì•¡íŠ¸ í›… ê¹Šê²Œ ì‚´í´ë³´ê¸°](#3ì¥-ë¦¬ì•¡íŠ¸-í›…-ê¹Šê²Œ-ì‚´í´ë³´ê¸°)
- [3.1 ë¦¬ì•¡íŠ¸ì˜ ëª¨ë“  í›… íŒŒí—¤ì¹˜ê¸°](#31-ë¦¬ì•¡íŠ¸ì˜-ëª¨ë“ -í›…-íŒŒí—¤ì¹˜ê¸°)
  - [3.1.3 useMemo](#313-usememo)
  - [3.1.4 useCallback](#314-usecallback)
    - [ğŸ“Œusecallback : ì¸ìˆ˜ë¡œ ë„˜ê²¨ë°›ì€ ì½œë°± ìì²´ë¥¼ ê¸°ì–µ](#usecallback--ì¸ìˆ˜ë¡œ-ë„˜ê²¨ë°›ì€-ì½œë°±-ìì²´ë¥¼-ê¸°ì–µ)
    - [ğŸ“Œ\[useMemo ğŸ¤œVSğŸ¤› usecallback ì°¨ì´ì \]](#usememo-vs-usecallback-ì°¨ì´ì )
    - [ğŸ“Œusecallback((í•¨ìˆ˜),(ì˜ì¡´ì„± ë°°ì—´),)](#usecallbackí•¨ìˆ˜ì˜ì¡´ì„±-ë°°ì—´)
    - [ì™œ usecallbackì— ê¸°ëª… í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ì—ˆë‚˜ìš”?](#ì™œ-usecallbackì—-ê¸°ëª…-í•¨ìˆ˜ë¥¼-ë„˜ê²¨ì£¼ì—ˆë‚˜ìš”)
  - [3.1.5 useRef](#315-useref)

# 3.1 ë¦¬ì•¡íŠ¸ì˜ ëª¨ë“  í›… íŒŒí—¤ì¹˜ê¸°

## 3.1.3 useMemo

## 3.1.4 useCallback

#### ğŸ“Œusecallback : ì¸ìˆ˜ë¡œ ë„˜ê²¨ë°›ì€ ì½œë°± ìì²´ë¥¼ ê¸°ì–µ

ğŸ’â€â™€ï¸**íŠ¹ì • í•¨ìˆ˜**ë¥¼ ìƒˆë¡œ ë§Œë“¤ì§€ ì•Šê³ âœ–ï¸, ë‹¤ì‹œ ì¬ì‚¬ìš©ğŸ”

- \*usememo: ê°’ ê¸°ì–µ.

[ì½”ë“œ 3.18] `memo`ë¥¼ ì‚¬ìš©í•¨ â¡ï¸ **BUT.** **ì „ì²´** ìì‹ ì»´í¬ë„ŒíŠ¸ê°€ **ë¦¬ë Œë”ë§**ë˜ëŠ” ì˜ˆì œğŸ¤”

```js

//ì¼œì§ êº¼ì§ í† ê¸€ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
const Childcomponent = memo(({ name, value, onchange }) => {

return{
    <>
      <h1>
      {name} {value ?'ì¼œì§' :'êº¼ì§'}
      </h1>

      <button onClick={onchange}>toggle</button>
    </>
  )
});

//ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
function App() {
const [status1, setstatus1] = usestate(false)
const [status2, setstatus2] = usestate(false)

const toggle1 = () ={
    settatus1(!status1)
}
const toggle2 = () ={
    settatus1(!status2)
}

return{
  <>
    <ChildComponent name="1" value={status1} onChange={toggle1} />
    <ChildComponent name="2" value={status2} onchange-{toggle2} />
  </>
  )
}
```

ğŸ¤”**memo**ë¥¼ ì‚¬ìš©í•´ì„œ ì»´í¬ë…„íŠ¸ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í–ˆì§€ë§Œ Appì˜ **ìì‹ ì»´í¬ë…„íŠ¸ ì „ì²´ê°€ ë Œë”ë§**ë˜ê³  ìˆë‹¤.

1. ìœ„ ì½”ë“œëŠ” memoë¥¼ ì‚¬ìš©í•´ name, value, onchangeì˜ ê°’ì„ ëª¨ë‘ ê¸°ì–µ
2. ê°’ì´ ë³€ê²½ë˜ì§€ ì•Šì•˜ì„ ë•ŒëŠ” ë Œë”ë§ë˜ì§€ ì•Šë„ë¡ ì‘ì„±ëœ ì½”ë“œ
3. í•˜ë‚˜ì˜ value ë³€ê²½ì´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜í–¥ì„ ë¯¸ì³ì„œëŠ” ì•ˆë¨ â¡ï¸ ì˜í–¥ë¯¸ì¹˜ëŠ” ì¤‘..
4. í´ë¦­í•  ë•Œë§ˆë‹¤ í•˜ë‚˜ì˜ ì»´í¬ë…„íŠ¸ë§Œ ë Œë”ë§ë˜ì•¼í•¨.
   ğŸ¥²**BUT.** í•œ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í´ë¦­í•˜ì§€ ì•Šì€ ì»´í¬ë…„íŠ¸ë„ ë Œë”ë§

â¡ï¸ ì´ìœ ëŠ” state ê°’ì´ ë°”ë€Œë©´ì„œ App ì»´í¬ë…„íŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ê³ , ê·¸ë•Œë§ˆë‹¤ ë§¤ë²ˆ onchangeë¡œ ë„˜ê¸°ëŠ” í•¨ìˆ˜ê°€ ì¬ìƒì„±ë˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.
<br/>

#### ğŸ“Œ[useMemo ğŸ¤œVSğŸ¤› usecallback ì°¨ì´ì ]

> **useMemo:** **ê°’**ì˜ ë©”ëª¨ì´ì œì´ì…˜
> **usecallback :** **í•¨ìˆ˜**ì˜ ë©”ëª¨ì´ì œì´ì…˜

<br/>

#### ğŸ“Œusecallback((í•¨ìˆ˜),(ì˜ì¡´ì„± ë°°ì—´),)

usecallbackì˜ ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ í•¨ìˆ˜ë¥¼, ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì˜ì¡´ì„± ë°°ì—´ì„ ì§‘ì–´ ë„£ìœ¼ë©´ **ì˜ì¡´ì„± ë°°ì—´ì´ ë³€ê²½ë˜ì§€ ì•ŠëŠ” í•œ í•¨ìˆ˜ë¥¼ ì¬ìƒì„±âœ–ï¸**

[ì½”ë“œ 3.19] ì´ì „ ì˜ˆì œì˜ ì»´í¬ë„ŒíŠ¸ì— usecalbackë§Œ ì¶”ê°€í•œ ì½”ë“œ

```js
const ChildComponent = memo(({ name, value, onchange }) => {

return(
  <>
    <h1>
      {name} {value ? 'ì¼œì§' : 'êº¼ì§'}
    </h1>
    <button onclick=fonChangel>toggle</button>
  </>
  )
})

function App() {
const [status1, setstatus1] = useState(false)
const [status2, setStatus2] = usestate(false)
const togglel = useCallback(

function toggle() {
  setStatus1(!statusl)
  },
  [status1],
}
const toggle2 = useCallback(
  function toggle2() {
    setStatus2(!status2)
  },
 [status2],
}
  return {
    <>
      <ChildComponent name="1" value={status1} onChange={toggle1} />
      <ChildComponent name="2" value={status2} onChange={toggle2}/>
    </>
    )
  }
```

usecallbackì„ ì¶”ê°€í•˜ë©´ í•´ë‹¹ ì˜ì¡´ì„±ì´ ë³€ê²½ëì„ ë•Œë§Œ í•¨ìˆ˜ê°€ ì¬ìƒì„±ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
ì´ì²˜ëŸ¼ í•¨ìˆ˜ì˜ ì¬ìƒì„±ì„ ë§‰ì•„ ë¶ˆí•„ìš”í•œ ë¦¬ì†ŒìŠ¤ ë˜ëŠ” ë¦¬ë Œë”ë§ì„ ë°©ì§€í•˜ê³  ì‹¶ì„ ë•Œ usecallbackì„ ì‚¬ìš©í•´ ë³¼ ìˆ˜ ìˆë‹¤

#### ì™œ usecallbackì— ê¸°ëª… í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì£¼ì—ˆë‚˜ìš”?

ì¼ë°˜ì ìœ¼ë¡œ usecallbackì´|ë‚˜ useMenoë¥¼ ì‚¬ìš©í•  ë•Œ useEffectì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë§ì€ ì½”ë“œê°€ ìµëª… í•¨ìˆ˜ë¡œ ì²« ë²ˆì§¸
ì¸ìˆ˜ë¥¼ ë„˜ê²¨
ì¤€ë‹¤.

```js
const togglel = useCallback(() =>{
  setstatus1(!status1)
, [status1])

```

ê·¸ëŸ¬ë‚˜ ìœ„ ì˜ˆì œì—ì„œëŠ” ê¸°ëª… í•¨ìˆ˜ë¥¼ ë„˜ê²¨ì¤¬ëŠ”ë°. ì´ëŠ” í¬ë¡¬ ë©”ëª¨ë¦¬ íƒ­ì—ì„œ ë””ë²„ê¹…ì„ ìš©ì´í•˜ê²Œ í•˜ê¸° ìœ„í•¨ì´ë‹¤. ìµëª… í•¨ìˆ˜ëŠ” ë§ ê·¸ëŒ€
ë¡œ ì´ë¦„ì´ ì—†ì–´ í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì¶”ì í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì´ë‹¤. ê¸°ëª… í•¨ìˆ˜ë¡œ ì„ ì–¸í•œ í•¨ìˆ˜ë¥¼ í¬ë¡¬ ê°œë°œì ë„êµ¬ì—ì„œ ë””ë²„ê°•í•˜ëŠ” ë°©ë²•ì€ 7ì¥
í¬ë¡¬ ê°œë°œì ë„êµ¬ë¥¼ í™œìš©í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¶„ì„'ì—ì„œ ë‹¤ë£¬ë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ useCallbackì€ useMemoë¥¼ ì‚¬ìš©í•´ì„œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

[ì½”ë“œ 3.20] Preactì—ì„œì˜ useCallback êµ¬í˜„

```js
export function usecallback(callback, args) {
  currentHook = 8;
  return useMemo(() => callback, args);
}
```

ğŸ¥²useMemoë¡œ useCallbackì„ êµ¬í˜„í•˜ëŠ” ê²½ìš°, ë¶ˆí•„ìš”í•˜ê²Œ ì½”ë“œê°€ ë§¤ìš° ê¸¸ì–´ì§€ê³  í˜¼ë™ì„ ì•¼ê¸° í•  ìˆ˜ ìˆìŒ.

â¡ï¸ë¦¬ì•¡íŠ¸ì—ì„œ ë³„ë„ë¡œ ì œê³µí•˜ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì¸¡í•´ ë³¼ìˆ˜ìˆë‹¤.

```js
export default function App() {
const [counter, setCounter] = usestate(0)

//ì•„ë˜ ë‘í•¨ìˆ˜ì˜ ì‘ë™ì€ ë™ì¼í•˜ë‹¤.
//1. useCallback
const handleClick1 = useCallback(() =>{
setCounter((prev) => prev + 1)
},[])

//2. useMemoë¡œ useCallback êµ¬í˜„
const handleclick2 = useMemo(() => {
retur () => setCounter((prev) => prev + 1)
},[])

```

useMemoëŠ” ê°’ ìì²´ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•˜ëŠ” ìš©ë„ â¡ï¸ ë°˜í™˜ë¬¸ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ë°˜í™˜
<br/>
â¡ï¸ğŸ¥²ì½”ë“œ ì‘ì„±, ë¦¬ë·° í˜¼ë€ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆìœ¼ë¯€ë¡œ **í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•˜ëŠ” ìš©ë„ë¼ë©´ usecallbackì„ ì‚¬ìš©**ğŸ¤›

ğŸ“Œë‹¤ë§Œ ê¸°ì–µí•´ì•¼ í•  ì‚¬ì‹¤ì€ **usecallbackì´ë‚˜ useMemoëŠ” ëª¨ë‘ ë™ì¼
í•œ ì—­í• **ì˜¬ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.

## 3.1.5 useRef
