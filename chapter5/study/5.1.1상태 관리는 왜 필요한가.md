# 5ì¥ ë¦¬ì•¡íŠ¸ì™€ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

- [5ì¥ ë¦¬ì•¡íŠ¸ì™€ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬](#5ì¥-ë¦¬ì•¡íŠ¸ì™€-ìƒíƒœ-ê´€ë¦¬-ë¼ì´ë¸ŒëŸ¬ë¦¬)
- [5.1 ìƒíƒœ ê´€ë¦¬ëŠ” ì™œ í•„ìš”í•œê°€?](#51-ìƒíƒœ-ê´€ë¦¬ëŠ”-ì™œ-í•„ìš”í•œê°€)
  - [ìƒíƒœ](#ìƒíƒœ)
  - [5.1.1 ë¦¬ì•¡íŠ¸ ìƒíƒœ ê´€ë¦¬ì˜ ì—­ì‚¬](#511-ë¦¬ì•¡íŠ¸-ìƒíƒœ-ê´€ë¦¬ì˜-ì—­ì‚¬)
    - [Flux íŒ¨í„´ì˜ ë“±ì¥](#flux-íŒ¨í„´ì˜-ë“±ì¥)
    - [Flux íŒ¨í„´ì˜ ìš©ì–´](#flux-íŒ¨í„´ì˜-ìš©ì–´)
    - [ì‹œì¥ ì§€ë°°ì ë¦¬ë•ìŠ¤ì˜ ë“±ì¥](#ì‹œì¥-ì§€ë°°ì-ë¦¬ë•ìŠ¤ì˜-ë“±ì¥)
    - [Context APIì™€ useContext](#context-apiì™€-usecontext)
    - [í›…ì˜ íƒ„ìƒ, ê·¸ë¦¬ê³  React Queryì™€ SWR](#í›…ì˜-íƒ„ìƒ-ê·¸ë¦¬ê³ -react-queryì™€-swr)
    - [Recoil, Zustand, Jotai, Valtioì— ì´ë¥´ê¸°ê¹Œì§€](#recoil-zustand-jotai-valtioì—-ì´ë¥´ê¸°ê¹Œì§€)
  - [5.1.2 ì •ë¦¬](#512-ì •ë¦¬)

# 5.1 ìƒíƒœ ê´€ë¦¬ëŠ” ì™œ í•„ìš”í•œê°€?

### ìƒíƒœ

- ê°œë°œì—ì„œì˜ ìƒíƒœëŠ” ì–´ë– í•œ ì˜ë¯¸ë¥¼ ì§€ë‹Œ ê°’
- ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì‹œë‚˜ë¦¬ì˜¤ì— ë”°ë¼ ì§€ì†ì ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ ìˆëŠ” ê°’

> UI: ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìƒíƒœë¼ í•¨ì€ ìƒí˜¸ì‘ìš©ì´ ê°€ëŠ¥í•œ ëª¨ë“  ìš”ì†Œì˜ í˜„ì¬ ê°’ì„ ì˜ë¯¸
> ex) ë‹¤í¬/ë¼ì´íŠ¸ëª¨ë“œ, `input` , ì•Œë¦¼ì°½ì˜ ë…¸ì¶œ ì—¬ë¶€ ë“±
> URL: ë¸Œë¼ìš°ì €ì—ì„œ ê´€ë¦¬ë˜ê³  ìˆëŠ” ìƒíƒœ ê°’
> ex) http://www.naver.com/`result="ê°œë°œ"` => ì´ ìƒíƒœëŠ” ì‚¬ìš©ìì˜ ë¼ìš°íŒ…ì— ë”°ë¼ ë³€ê²½
> FORM: Loading, Submit, disabled, validation ë“± ëª¨ë‘ê°€ ìƒíƒœë¡œ ê´€ë¦¬
> ì„œë²„ì—ì„œ ê°€ì ¸ì˜¨ ê°’: í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ìš”ì²­ì„ í†µí•´ ê°€ì ¸ì˜¨ ê°’ë„ ìƒíƒœ
> ex) API ìš”ì²­

- ì›¹ ì„œë¹„ìŠ¤ ê¸°ëŠ¥ â†‘ ê´€ë¦¬í•´ì•¼í•  ìƒíƒœ â†‘
- ì¦‰, ì¦ê°€í•˜ëŠ” ìƒíƒœë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ê³ ë¯¼í•˜ëŠ” ì‹œëŒ€

> "ìƒíƒœë¥¼ ê´€ë¦¬í•œë‹¤"

> "ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì ìœ¼ë¡œ ê´€ë¦¬í•´ì•¼í•  ìƒíƒœê°€ ìˆë‹¤ë©´?"

- ìƒíƒœë¥¼ ì–´ë””ì— ë‘˜ê²ƒì¸ê°€?
- ì „ì—­ ë³€ìˆ˜ì— ë‘˜ ê²ƒì¸ê°€?
- ë³„ë„ì˜ í´ë¡œì €ë¥¼ ë§Œë“¤ ê²ƒì¸ê°€?
- ê·¸ ìƒíƒœê°€ ìœ íš¨í•œ ë²”ìœ„ëŠ” ì–´ë–»ê²Œ ì œí•œí•  ìˆ˜ ìˆì„ê¹Œ?
- ìƒíƒœì˜ ë³€í™”ì— ë”°ë¼ ë³€ê²½ë¼ì•¼í•˜ëŠ” ìì‹ ìš”ì†Œë“¤ì€ ì–´ë–»ê²Œ ì´ ìƒíƒœì˜ ë³€í™”ë¥¼ ê°ì§€í•  ê²ƒì¸ê°€?
- ì´ëŸ¬í•œ ìƒíƒœ ë³€í™”ê°€ ì¼ì–´ë‚¨ì— ë”°ë¼ ì¦‰ê°ì ìœ¼ë¡œ ëª¨ë“  ìš”ì†Œë“¤ì´ ë³€ê²½ë˜ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì°¢ì–´ì§€ëŠ” í˜„ìƒ(Tearing)ì„ ì–´ë–»ê²Œ ë°©ì§€í•  ê²ƒì¸ê°€?

=> ì´ì²˜ëŸ¼ í˜„ì¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìƒíƒœ ê´€ë¦¬ë€ ì–´ë µë‹¤ê³  í•´ì„œ ì™¸ë©´í•  ìˆ˜ ì—†ëŠ” ì£¼ì œê°€ ë¨

## 5.1.1 ë¦¬ì•¡íŠ¸ ìƒíƒœ ê´€ë¦¬ì˜ ì—­ì‚¬

- ë¦¬ì•¡íŠ¸ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œì— ëª¨ë“  ê²ƒì„ ì œê³µí•˜ëŠ”, ì´ë¥¸ë°” í”„ë ˆì„ì›Œí¬ë¥¼ ì§€í–¥í•˜ëŠ” ì•µê·¤ëŸ¬ì™€ëŠ” ë‹¤ë¥´ê²Œ ë¦¬ì•¡íŠ¸ëŠ” ë‹¨ìˆœíˆ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¼ ë¿ì´ê³  ê·¸ ì´ìƒì˜ ê¸°ëŠ¥ì„ ì œê³µí•˜ì§€ ì•ŠìŒ

### Flux íŒ¨í„´ì˜ ë“±ì¥

- ìˆœìˆ˜ ë¦¬ì•¡íŠ¸ì—ì„œ í•  ìˆ˜ ìˆëŠ” ì „ì—­ ìƒíƒœ ê´€ë¦¬ ìˆ˜ë‹¨ì´ë¼ê³  í•˜ë©´ `Context API`ë¥¼ ë– ì˜¬ë¦¼
- ì—„ë°€íˆ ë§í•˜ë©´ ë¦¬ì•¡íŠ¸ `Context API`ëŠ” ìƒíƒœ ê´€ë¦¬ê°€ ì•„ë‹ˆë¼ ìƒíƒœ ì£¼ì…ì„ ë„ì™€ì£¼ëŠ” ì—­í• 
- 2014ë…„, ë¦¬ì•¡íŠ¸ì˜ ë“±ì¥ê³¼ ë¹„ìŠ·í•œ ì‹œê¸°ì— `Flux íŒ¨í„´`ê³¼ í•¨ê»˜ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ `Flux`ê°€ ë“±ì¥
- ë·°(HTML)ê°€ ëª¨ë¸(ìë°”ìŠ¤í¬ë¦½íŠ¸)ì„ ë³€ê²½í•  ìˆ˜ ìˆìœ¼ë©°, ë°˜ëŒ€ì˜ ê²½ìš° ëª¨ë¸ë„ ë·°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ì…ì¥ì—ì„œëŠ” ê°„ë‹¨í•  ìˆ˜ ìˆì§€ë§Œ ì½”ë“œì˜ ì–‘ì´ ë§ì•„ì§€ê³  ë³€ê²½ ì‹œë‚˜ë¦¬ì˜¤ê°€ ë³µì¡í•´ì§ˆìˆ˜ë¡ ê´€ë¦¬ê°€ ì–´ë ¤ì›Œì§‘ë‹ˆë‹¤. -> í˜ì´ìŠ¤ë¶íŒ€ì€ ì–‘ë°©í–¥ì´ ì•„ë‹Œ **ë‹¨ë°©í–¥ì„ ë°ì´í„° íë¦„ì„ ë³€ê²½í•˜ëŠ” ê²ƒì€ ì œì•ˆ**í•˜ëŠ”ë° ì´ê²ƒì´ `Flux íŒ¨í„´`ì˜ ì‹œì‘

### Flux íŒ¨í„´ì˜ ìš©ì–´

| ì´ë¦„                 | ì„¤ëª…                                                                                                                                                                                                                                                  |
| -------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ì•¡ì…˜(Action)         | **ì–´ë– í•œ ì‘ì—…ì„ ì²˜ë¦¬í•  ì•¡ì…˜ê³¼ ê·¸ ì•¡ì…˜ ë°œìƒ ì‹œ í•¨ê»˜ í¬í•¨ì‹œí‚¬ ë°ì´í„°**ë¥¼ ì˜ë¯¸, ì•¡ì…˜ íƒ€ì…ê³¼ ë°ì´í„°ë¥¼ ê°ê° ì •ì˜í•´ ì´ë¥¼ ë””ìŠ¤íŒ¨ì¹˜ë¡œ ë³´ëƒ„                                                                                                                    |
| ë””ìŠ¤íŒ¨ì¹˜(Dispatcher) | **ì•¡ì…˜ì„ ìŠ¤í† ì–´ì— ë³´ë‚´ëŠ” ì—­í• **, ì½œë°± í•¨ìˆ˜ í˜•íƒœë¡œ ì•ì„œ ì•¡ì…˜ì´ ì •ì˜í•œ íƒ€ì…ê³¼ ë°ì´í„°ë¥¼ ëª¨ë‘ ìŠ¤í† ì–´ì— ë³´ëƒ„                                                                                                                                               |
| ìŠ¤í† ì–´(Store)        | ì—¬ê¸°ì—ì„œ ì‹¤ì œ ìƒíƒœì— ë”°ë¥¸ ê°’ê³¼ **ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ë©”ì„œë“œ**ë¥¼ ê°€ì§€ê³  ìˆìŒ, ì•¡ì…˜ì˜ íƒ€ì…ì— ë”°ë¼ ì–´ë–»ê²Œ ì´ë¥¼ ë³€ê²½í• ì§€ê°€ ì •ì˜ ë¼ ìˆìŒ                                                                                                                 |
| ë·°(View)             | **ë¦¬ì•¡íŠ¸ì˜ ì»´í¬ë„ŒíŠ¸**ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„, ìŠ¤í† ì–´ì—ì„œ ë§Œë“¤ì–´ì§„ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ í™”ë©´ì„ ë Œë”ë§í•˜ëŠ” ì—­í• ì„ í•¨, ë˜í•œ ë·°ì—ì„œë„ ì‚¬ìš©ìì˜ ì…ë ¥ì´ë‚˜ í–‰ìœ„ì— ë”°ë¼ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•˜ê³ ì í•  ìˆ˜ ìˆì„ ê²ƒ, ì´ ê²½ìš°ì—ëŠ” ë‹¤ìŒ ê·¸ë¦¼ì²˜ëŸ¼ ë·°ì—ì„œ ì•¡ì…˜ì„ í˜¸ì¶œí•˜ëŠ” êµ¬ì¡°ë¡œ êµ¬ì„± |

![](https://haruair.github.io/flux/img/flux-simple-f8-diagram-with-client-action-1300w.png)

- ìœ„ ëª¨ìŠµì„ ê°„ë‹¨í•˜ê²Œ ë¦¬ì•¡íŠ¸ ì½”ë“œë¡œ ì‚´í´ë³´ì

```js
type StoreState = {
  count: number,
};

type Action = { type: 'add', payload: number };

function reducer(prevState: StoreState, action: Action) {
  const { type: ActionType } = action;

  if (ActionType === 'add') {
    return {
      count: prevState.count + action.payload,
    };
  }
}

throw new Error(`Unexpected Action [${ActionType}]`);
```

```js
export default function App() {
  const [state, dispatcher] = useReducer(reducer, { count: 0 });

  function handleClick() {
    dispatcher({ type: 'add', payload: 1 });
  }

  return (
    <div>
      <h1>{state.count}</h1>
      <button onClick={handleClick}>+</button>
    </div>
  );
}
```

- ìœ„ì™€ ê°™ì€ í˜•íƒœëŠ” ë‹¨ë°©í–¥ì¸ë° ì´ëŸ¬í•œ ë°ì´í„° íë¦„ ë°©ì‹ì€ ë‹¹ì—°íˆ ë¶ˆí¸í•¨ë„ ì¡´ì¬í•œë‹¤. ì‚¬ìš©ìì˜ ì…ë ¥(ì‚¬ìš©ìì˜ í´ë¦­)ì— ë”°ë¼ ë°ì´í„°ë¥¼ ê°±ì‹ í•˜ê³  í™”ë©´ì„ ì–´ë–»ê²Œ ì—…ë°ì´íŠ¸í•´ì•¼ í•˜ëŠ”ì§€ë„ ì½”ë“œë¡œ ì‘ì„±í•´ì•¼ í•˜ë¯€ë¡œ ì½”ë“œì´ ì–‘ì´ ë§ì•„ì§€ê³  ê°œë°œìë„ ìˆ˜ê³ ë¡œì›Œì§„ë‹¤.
- ê·¸ëŸ¬ë‚˜ ë°ì´í„°ì˜ íë¦„ì€ ëª¨ë‘ ì•¡ì…˜ì´ë¼ëŠ” í•œ ë°©í–¥(ë‹¨ë°©í–¥)ìœ¼ë¡œ ì¤„ì–´ë“œë¯€ë¡œ ë°ì´í„°ì˜ íë¦„ì„ ì¶”ì í•˜ê¸° ì‰½ê³  ì½”ë“œë¥¼ ì´í•´í•˜ê¸°ê°€ í•œê²° ìˆ˜ì›”í•´ì§„ë‹¤.
- ë¦¬ì•¡íŠ¸ëŠ” ëŒ€í‘œì ì¸ ë‹¨ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©ì„ ê¸°ë°˜ì„ í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜€ìœ¼ë¯€ë¡œ ì´ëŸ¬í•œ ë‹¨ë°©í–¥ íë¦„ì„ ì •ì˜í•˜ëŠ” `Flux íŒ¨í„´`ê³¼ ë§¤ìš° ê¶í•©ì´ ì˜ ë§ë‹¤.
- ì´ì™€ ë™ì‹œì— ì´ëŸ¬í•œ `Flux íŒ¨í„´`ì„ ë”°ë¥´ëŠ” ë‹¤ì–‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìš°í›„ì£½ìˆœì²˜ëŸ¼ ë“±ì¥í•˜ê¸° ì‹œì‘í–ˆë‹¤.

> [Flux](https://github.com/facebookarchive/flux)  
> [alt](https://github.com/goatslacker/alt)  
> [RefluxJS](https://github.com/reflux/refluxjs)  
> [NuclearJS](https://github.com/optimizely/nuclear-js)  
> [Fluxible](https://github.com/yahoo/fluxible)  
> [Fluxxor](https://github.com/BinaryMuse/fluxxor)

### ì‹œì¥ ì§€ë°°ì ë¦¬ë•ìŠ¤ì˜ ë“±ì¥

- ë¦¬ì•¡íŠ¸ì™€ ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì´ ì ì  ë‘ê°ì„ ë“œëŸ¬ë‚´ë˜ ì™€ì¤‘ì— ë“±ì¥í•œ ê²ƒì´ ë°”ë¡œ ë¦¬ë•ìŠ¤
- ë¦¬ë•ìŠ¤ëŠ” `Flux êµ¬ì¡°`ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì§„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¤‘ í•˜ë‚˜ì´ê³  `Elm ì•„í‚¤í…ì²˜`ë¥¼ ë„ì…
- `Elm`ì€ ì›¹í˜ì´ì§€ë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì‘ì„±í•˜ê¸° ìœ„í•œ ì–¸ì–´

```js
module Main exposing (..)

import Brower
import Html exposing (Html, button, div, text)
import Html.Events exposing (onClick)

--MAIN
main =
  Brower.sandbox { init = init, update = update, view = view }


--MODEL
type alias Model = Int


init : Model
init = 0


--UPDATE
type Msg
  = Increment
  | Decrement


update: Msg -> Model -> Model
update msg model =
  case msg of
    Increment ->
      model + 1


  Decrement ->
      model - 1

-- VIEW


view: Model -> Html Msg
view model =
  div[]
  [
    button [ onClick Decrement ] [text "-"]
    , div [] [ text (String.fromInt model) ]
    , button [ onClick Increment ][ text "+" ]
  ]

<div>
  <button>-</button>
  <div>2</div>
  <button>+</button>
</div>

```

- ì£¼ëª©í•  ì ì€ `model`, `update` , `view`
- `Elm ì•„í‚¤í…ì²˜`ì˜ í•µì‹¬

| í•µì‹¬     | ì„¤ëª…                                                                                                      |
| -------- | --------------------------------------------------------------------------------------------------------- |
| `model`  | **ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœ**ë¥¼ ì˜ë¯¸, `Model`ì„ ì˜ë¯¸í•˜ë©° ì´ˆê¸°ê°’ìœ¼ë¡œ 0                                           |
| `view`   | **ëª¨ë¸ì„ í‘œí˜„í•˜ëŠ” HTML**ì„ ì˜ë¯¸, `Model`ì„ ì¸ìˆ˜ë¡œ ë°›ì•„ì„œ HTMLì„ í‘œí˜„                                      |
| `update` | **ëª¨ë¸ì„ ìˆ˜ì •í•˜ëŠ” ë°©ì‹**, `Increment`, `Decrement`ë¥¼ ì„ ì–¸í•´ ê°ê°ì˜ ë°©ì‹ì´ ì–´ë–»ê²Œ ëª¨ë¸ì„ ìˆ˜ì •í•˜ëŠ”ì§€ ë‚˜íƒ€ëƒ„ |

- `Elm`ì€ `Flux`ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë°ì´í„° íë¦„ì„ ì„¸ê°€ì§€ë¡œ ë¶„ë¥˜
- ì´ë¥¼ ë‹¨ë°©í–¥ìœ¼ë¡œ ê°•ì œí•´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ìƒíƒœë¥¼ ì•ˆì •ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³ ì ë…¸ë ¥
  => ë¦¬ë•ìŠ¤ëŠ” `Elm ì•„í‚¤í…ì²˜`ì˜ ì˜í–¥ì„ ë°›ì•„ ì‘ì„±ë¨

- ë¦¬ë•ìŠ¤ëŠ” <u>í•˜ë‚˜ì˜ ìƒíƒœ ê°ì²´ë¥¼ ìŠ¤í† ì–´ì— ì €ì¥</u>í•´ë‘ê³ , ì´ ê°ì²´ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” ì‘ì—…ì„ ë””ìŠ¤íŒ¨ì¹˜í•´ ì—…ë°ì´íŠ¸ë¥¼ ìˆ˜í–‰
- `reducer` í•¨ìˆ˜ë¡œ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆëŠ”ë° ì´ í•¨ìˆ˜ì˜ ì‹¤í–‰ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœì— ëŒ€í•œ ì™„ì „íˆ ìƒˆë¡œìš´ ë³µì‚¬ë³¸ì„ ë°˜í™˜í•œ ë‹¤ìŒ, ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì´ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ì§„ ìƒíƒœë¥¼ ì „íŒŒ
- `ğŸ’¡ í•˜ë‚˜ì˜ ì „ì—­ ìƒíƒœë¥¼ í†µí•´ ì´ ìƒíƒœë¥¼ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— ì „íŒŒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— propsë¥¼ ê¹Šì´ ì „íŒŒí•´ì•¼ í•˜ëŠ” ì´ë¥¸ë°” prop ë“œë¦´ë§ì„ í•´ê²°í•  ìˆ˜ ìˆì—ˆê³ , ìŠ¤í† ì–´ê°€ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë¼ë©° ë‹¨ì§€ connectë§Œ ì“°ë©´ ìŠ¤í† ì–´ì— ë°”ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŒ.`

ê·¸ë ‡ë‹¤ê³  ë¦¬ë•ìŠ¤ê°€ ë§ˆëƒ¥ í¸í•˜ê¸°ë§Œ í•œê²ƒì€ ì•„ë‹ˆë‹¤.

- ë‹¨ìˆœíˆ í•˜ë‚˜ì˜ ìƒíƒœë¥¼ ë°”ê¾¸ê³  ì‹¶ì–´ë„ í•´ì•¼ í•  ì¼ì´ ë„ˆë¬´ ë§ìŒ
  ex) ì–´ë– í•œ ì•¡ì…˜ì¸ì§€ íƒ€ì…ì„ ì„ ì–¸, ì•¡ì…˜ì„ ìˆ˜í–‰í•  `creator` í•¨ìˆ˜ ë§Œë“¤ê¸°, `dispatcher`ê³¼ `selector`í•„ìš” ë“±
- ê·¸ëŸ¼ì—ë„ ë¦¬ì•¡íŠ¸ì™€ ë¦¬ë•ìŠ¤ëŠ” ì¼ì¢…ì˜ í‘œì¤€ì²˜ëŸ¼ êµ³ì–´ì§

### Context APIì™€ useContext

- ë‹¨ìˆœíˆ ìƒíƒœë¥¼ ì°¸ì¡°í•˜ê³ ì‹¶ì„ ë¿ì¸ë° ë¦¬ë•ìŠ¤ë¡œëŠ” ë§ì€ ê²ƒì€ ì¤€ë¹„í•´ì•¼í•œë‹¤ëŠ” ë¶€ë‹´ìŠ¤ëŸ¬ìš´ ì ì´ ì¡´ì¬ -> ë¦¬ì•¡íŠ¸ 16.3ë²„ì „ì—ì„œ ìƒˆë¡œìš´ `Context API`ì¶œì‹œ
- `props`ë¡œ ìƒíƒœë¥¼ ë„˜ê²¨ì£¼ì§€ ì•Šë”ë¼ë„ `Context API`ë¥¼ ì‚¬ìš©í•˜ë©´ ì›í•˜ëŠ” ê³³ì—ì„œ `Context Provider`ê°€ ì£¼ì…í•˜ëŠ” ìƒíƒœë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

- ë¦¬ì•¡íŠ¸ 16.3 ë²„ì „ì´ì „ì—ë„ `context`ê°€ ì¡´ì¬, `getChildContext()`ë¥¼ ì œê³µ

```js
class MyComponent extends React.Component {
  static childContextTypes = {
    name: PropTypes.string,
    age: PropTypes.number,
  };

  getChildContext() {
    return {
      name: 'foo',
      age: 30,
    };
  }

  render() {
    return <ChildComponent />;
  }
}

function ChildComponent(props, context) {
  return (
    <div>
      <p>Name: {context.name}</p>
      <p>Age: {context.age}</p>
    </div>
  );
}

ChildComponent.contextTypes = {
  name: PropTypes.string,
  age: PropTypes.number,
};
```

- ì´ ë°©ì‹ì—ëŠ” ë¬¸ì œì ì´ ì¡´ì¬
- ì²« ë²ˆì§¸, ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë˜ë©´ `getChildContext`ë„ í˜¸ì¶œë¨ê°€ ë™ì‹œì— `shouldComponentUpdate`ê°€ í•­ìƒ `true`ë¥¼ ë°˜í™˜í•´ ë¶ˆí•„ìš”í•˜ê²Œ ë Œë”ë§ì´ ì¼ì–´ë‚œë‹¤ëŠ” ì 
- ë‘ ë²ˆì§¸, `getChildContext`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” `context`ë¥¼ ì¸ìˆ˜ë¡œ ë°›ì•„ì•¼ í•˜ëŠ”ë° ì´ ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ì™€ ê²°í•©ë„ê°€ ë†’ì•„ì§€ëŠ” ë“±ì˜ ë‹¨ì  ì¡´ì¬
  => 16.3ë²„ì „ì—ì„œ ìƒˆë¡œìš´ `context`ê°€ ì¶œì‹œ => `Context API`

```js
type Counter = {
  count: number
}

const CounterContext = createContext<Counter | undefined>(undefined)

class CounterComponent extends Component{
  render(){
    return(
      <CounterContext.Consumer>
        {(state)=> <p>{state?.count}</p>}
      </CounterContext.Consumer>
    )
  }
}

class DummyParent extends Component{
  render(){
    return (
      <>
        <CounterComponent />
      </>
    )
  }
}

export default class MyApp extends Component<{}, Counter>{
  state = { count = 0 }

  componentDidMount(){
    this.setState({ count : 1 })
  }

  handleClick = () => {
    this.setState((state) => ({ count: state.count + 1 }))
  }

  render(){
    return (
      <CounterContext.Provider value={this.state}>
        <button onClick={this.handleClick}>+</button>
        <DummyParent />
      </CounterContext.Provider>
    )
  }
}
```

- `Context API`ëŠ” ìƒíƒœ ê´€ë¦¬ê°€ ì•„ë‹Œ ì£¼ì…ì„ ë„ì™€ì£¼ëŠ” ê¸°ëŠ¥ì´ë©°, ë Œë”ë§ì„ ë§‰ì•„ì£¼ëŠ” ê¸°ëŠ¥ ë˜í•œ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë‹ˆ ì‚¬ìš©í•  ë•Œ ì£¼ì˜ê°€ í•„ìš”

### í›…ì˜ íƒ„ìƒ, ê·¸ë¦¬ê³  React Queryì™€ SWR

- Context APIê°€ ì„ ë³´ì¸ ì§€ 1ë…„ì´ ì±„ ë˜ì§€ ì•Šì•„ ë¦¬ì•¡íŠ¸ëŠ” 16.8 ë²„ì „ì—ì„œ **í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì— ì‚¬ìš©í• ìˆ˜ìˆëŠ” ë‹¤ì–‘í•œ í›… APIë¥¼ ì¶”ê°€**í–ˆë‹¤.
- ì´ í›… APIëŠ” ê¸°ì¡´ì— ë¬´ìƒíƒœ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„ ì–¸í•˜ê¸° ìœ„í•´ì„œë§Œ ì œí•œì ìœ¼ë¡œ ì‚¬ìš©ëë˜ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì— ë§ì€ ê¸°ëŠ¥ì„ ì œê³µí–ˆë‹¤.
- **stateë¥¼ ë§¤ìš° ì†ì‰½ê²Œ ì¬ì‚¬ìš© ê°€ëŠ¥**í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.

```js
function useCounter() {
  const [count, setCount] = useState(0);

  function increase() {
    setCount((prev) => prev + 1);
  }
  return { count, increase };
}
```

- ë‚´ë¶€ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ìˆëŠ” stateë„ ìˆìŒ. ë˜ ì´ë¥¼ í•„ìš”í•œ ê³³ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥ â¡ï¸ **í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ë³´ë‹¤ í›¨ì”¬ ê°„ê²°í•˜ê³  ì§ê´€ì ì¸ ë°©ë²•.** â¡ï¸ ê°œë°œìë“¤ì´ ìì‹ ë§Œì˜ í›… ë§Œë“¤ê¸° ì‹œì‘

- **ìƒˆë¡œìš´ ìƒíƒœ ê´€ë¦¬ ë“±ì¥:** `React Query`, `SWR`
- ë‘ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ëª¨ë‘ ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” fetchë¥¼ ê´€ë¦¬í•˜ëŠ” ë° íŠ¹í™”ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬
- API í˜¸ì¶œì— ëŒ€í•œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ìˆê¸° ë•Œë¬¸ì— HTTP ìš”ì²­ì— íŠ¹í™”ëœ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬.

```js
import React from 'react'
import useSwR from 'swr'

const fetcher = (url) => fetch(url).then((res)=> res.json())

export default function App() {
  const { data, error } = useSMR(
    "https://api.github.com/repos/vercel/swr",
    fetcher,
  )

  if (error) return 'An error has occurred'
  if (!data) return 'Loading...'
  return (
    <div>
      <p>{JSON.stringify(data)}K/p>
    </div>
  )
}
```

1. `useSMR`ì˜ ì²« ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì¡°íšŒí•  API ì£¼ì†Œë¥¼, ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ ì¡°íšŒì— ì‚¬ìš©ë˜ëŠ” fetchë¥¼ ë„˜ê²¨ì¤€ë‹¤.
2. ì²« ë²ˆì§¸ ì¸ìˆ˜ì¸ API ì£¼ì†ŒëŠ” í‚¤ë¡œë„ ì‚¬ìš©ë˜ë©°, ì´í›„ì— ë‹¤ë¥¸ ê³³ì—ì„œ ë™ì¼í•œ í‚¤ë¡œ í˜¸ì¶œí•˜ë©´ ì¬ì¡°íšŒí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ useSMRì´ ê´€ë¦¬í•˜ê³  ìˆëŠ” ìºì‹œì˜ ê°’ì„ í™œìš©í•œë‹¤.

ê¸°ì¡´ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë³´ë‹¤ëŠ” ì œí•œì ì¸ ëª©ì , ì¼ë°˜ì ì¸ í˜•íƒœì™€ëŠ” ë‹¤ë¥´ë‹¤ëŠ” ì ë§Œ ì œì™¸í•˜ë©´ SWRì´ë‚˜ React Queryë„ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì¼ì¢…ì´ë¼ ë³¼ ìˆ˜ ìˆë‹¤.

### Recoil, Zustand, Jotai, Valtioì— ì´ë¥´ê¸°ê¹Œì§€

[ë²”ìš©ì ìœ¼ë¡œ ì“¸ ìˆ˜ ìˆëŠ” ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬]

- í˜ì´ìŠ¤ë¶ íŒ€ì—ì„œ ë§Œë“  Recoilì„ í•„ë‘ë¡œ, Jotai, Zustand, valtio ë“±

```js
//Recoil
const counter = atom({ key: 'count', default: 0 });
const todolist = useRecoilValue(counter);

// Jotai
const countAtom = atom(0);
const [count, setCount] = useAtom(countAtom);

// zustand
const useCounterstore = create((set) => ({
  count: 0,
  increase: () => set((state) => ({ count: state.count + 1 })),
}));
const count = useCounterStore((state) => state.count);

// Valtio
const state = proxy({ count: 0 });
const snap = useSnapshot(state);
state.count++;
```

[ìš”ì¦˜ ìƒˆë¡œìš´ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ `VS` ê¸°ì¡´ì˜ ë¦¬ë•ìŠ¤, MobX ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì°¨ì´ì ]

- ìš”ì¦˜ ìƒˆë¡œìš´ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” í›…ì„ í™œìš©í•´ ì‘ì€ í¬ê¸°ì˜ ìƒíƒœë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬.
- ì• ì´ˆì— ë¦¬ì•¡íŠ¸ì™€ì˜ ì—°ë™ì„ ì „ì œë¡œ ì‘ë™í•´ ë³„ë„ë¡œ ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì°¨ì´ì .

> â¡ï¸ ê°œë°œìê°€ ì›í•˜ëŠ” ë§Œí¼ì˜ ìƒíƒœë¥¼ ì§€ì—­ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì„ ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì—ˆê³ , í˜¹ì„ ì§€ì›í•¨ìœ¼ë¡œì¨ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œ ì†ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì 

## 5.1.2 ì •ë¦¬

ğŸ’â€â™€ï¸ ì§€ê¸ˆê¹Œì§€ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë¬´ì—‡ì´ê³ , ë¦¬ì•¡íŠ¸ê°€ íƒœë™í•œ ì´ë˜ë¡œ ì–´ë– í•œ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìˆëŠ”ì§€ ì‚´í´ë´¤ë‹¤. ì‹¤ì œë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‘ì„±í•  ë•Œ ë¬´ì—‡ì„ ì„ íƒí•´ì•¼ í• ì§€ ê³ ë¯¼ìŠ¤ëŸ¬ìš¸ ìˆ˜ë„ ìˆì§€ë§Œ ë‹¤ì–‘í•œ ì˜µì…˜ì„ ì‚´í´ë³´ê³  ë¹„êµí•˜ë©´ì„œ ì–´ë–¤ ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ê³  ìˆëŠ”ì§€ ì‚´í´ë³´ê¸°!
